
<!DOCTYPE html>
<html>
  <head>
    <title>GeoComplete</title>
    <meta charset="UTF-8">
    <style>
	#geocomplete { width: 200px}

.map_canvas { 
  width: 600px; 
  height: 400px; 
  margin: 10px 20px 10px 0;
}

#multiple li { 
  cursor: pointer; 
  text-decoration: underline; 
}

.pac-container {
    /* put Google geocomplete list on top of Bootstrap modal */
    z-index: 9999;
}

	</style>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />    
    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'/>
	
  </head>
  <body>
	
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="http://maps.googleapis.com/maps/api/js?sensor=false&amp;libraries=places"></script>    
    <script src="http://ubilabs.github.io/geocomplete/jquery.geocomplete.js"></script>
     
    
	
<!-- Button trigger modal -->
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
  Launch demo modal
</button>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">


<div class="map_canvas"></div>    
    <form>
      <input id="geocomplete" type="text" placeholder="Type in an address" value="111 Broadway, New York, NY" />
      <input id="find" type="button" value="find" />
      
      <fieldset>
        <label>Latitude</label>
        <input name="lat" type="text" value="">
      
        <label>Longitude</label>
        <input name="lng" type="text" value="">
      
        <label>Formatted Address</label>
        <input name="formatted_address" type="text" value="">
      </fieldset>
      
      <a id="reset" href="#" style="display:none;">Reset Marker</a>
    </form>
	
	
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>


<script>

$(document).ready(function(){

	$("#geocomplete").geocomplete({
	  map: ".map_canvas",
	  location: "ha noi",
	  details: "form ",
	  markerOptions: {
		draggable: true
	  }
	});
        
	$("#geocomplete").bind("geocode:dragged", function(event, latLng){
	  $("input[name=lat]").val(latLng.lat());
	  $("input[name=lng]").val(latLng.lng());
	  $("#reset").show();
	});
        
        
	$("#reset").click(function(){
	  $("#geocomplete").geocomplete("resetMarker");
	  $("#reset").hide();
	  return false;
	});
        
	$("#find").click(function(){
	  $("#geocomplete").trigger("geocode");
	}).click();
	
		
	$('#myModal').on('shown.bs.modal', function () {
        var map = $("#geocomplete").geocomplete("map");
		google.maps.event.trigger(map, "resize");
		console.log("resize");
    });
	
	$("#geocomplete").trigger("geocode");
})


</script>
	
  </body>
</html>

